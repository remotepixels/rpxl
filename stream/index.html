<!DOCTYPE html>
<html lang=en>
<head>
	<title>rpxl.app - Server</title>

	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	<meta name="msapplication-TileColor" content="#2e2e2e"/>
	<meta name="theme-color" content="#2e2e2e"/>
	<meta name="keywords" content="Gui Felix, Advertising, Visual Effects, Motion Graphics, Remote Pixels, vdo.ninja"/>
	<meta name="robots" content="index, follow"/>
	<meta name= "viewport" content= "width = device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
   
	<link rel="apple-touch-icon" sizes="180x180" href="h../icons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../icons/favicon-16x16.png">
	<link rel="mask-icon" href="../icons/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="../icons/favicon.ico">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=video_camera_front" />

	<link rel="stylesheet" href="../styles/style.css">
</head>
    
<body>
	<div class="topnav" id="subNav">
		<img src="../icons/android-chrome-192x192.png" class="siteIcon" id="siteIcon" style="opacity:0.3;"/>
		<div class="ninjaIcon"><a href="https://vdo.ninja" target="_blank" class="vdoninjatext">Powered by<br>VDO.NINJA</a></div>
		<div class="clientLink" id="clientLink">
			Client link : 
			<div id="sessionLink" class="sessionLink" value="https://rpxl.app" alt="Copy to clipboard">
				<img src="../images/copy.png" width="20" height="20" value="https://rpxl.app">
			</div>
		</div>
		<div id="clock" class="clockDuration"></div>
		<div id="addWebcam" class="addWebcam" onclick="addWebcam()">
			<div id="webcamSymbols" class="material-symbols-outlined">video_camera_front</div>
		</div>
	</div>
    
		
	<!--load blank iframe, will be replaced with directors room when loged in-->
	<iframe title="directorroom" class="directorroom" name="directorroom" id="directorroom" allowfullscreen=false></iframe>
	<iframe title="addWebcamWindow" class="addWebcamWindow" name="addWebcamWindow" id="addWebcamWindow" allowfullscreen=false></iframe>
	<!--
	<div title="addWebcamWindow" class="addWebcamWindow" name="addWebcamWindow" id="addWebcamWindow">
		<div class="askNamePopupContent" id="askNamePopupContent">
			<div class="subtext" id="subtext" style="margin: unset;">
				This alllows you to add yourself via a webcam to the stream while keeping the main stream separate.
				You will be able to mute yourself and the main stream independantly, and clients will see you as a participant.
				<p></p>
				WARNING! Do not select the same source as the Main Stream as this will create feedback and other issues.
			</div>
			<p></p>
			<div class="popupTitle">Enter your name</div>
			<p></p>
			<form id="stageName" name="stageName" onsubmit="return validateStageName()" method="post" required="">
				<input class="enterStageName" type="text" maxlength="11" name="enterStageName" value="" style="margin-top:20px; margin-bottom: 20px;">
				<p></p>
				<input type="submit" value="Add Webcam" class="button">                            
			</form>
			</div>
		</div>
-->
	<!--darken screen for popups-->
	<div class="blackout" id="blackout" style="display: block;">			
		<!--popup window, draws the popup window-->
		<div class="popupWindow" id="popupWindow" style="height: 480px;">
			
			<!--popup window content : session setting--> 
			<div id="sessionIDpopupContent">	
				<div class="popupTitle" style="width:445px;">
					Create live stream ID:
					<p></p>
				</div>
				<form id="sessionIDCode" name="sessionIDCode" onsubmit="return validateSessionID()" method="post" required="">
					<input type="text" tabindex="1" name="sessionIDInput" id="sessionIDInput" autocomplete="one-time-code" maxlength="6" onkeypress="return onlyAlphabets(event,this);" oninput="this.value = this.value.toUpperCase()" style="text-transform: uppercase;">
					<br>
					Resolution
					<input type="hidden" id="resolution" value="0">
					<input type="button" name="button" id="res1080" class="multiSelectBlock multiSelectBlockHighlighted" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; left:130px;" value="1080">
					<input type="button" name="button" id="res720" class="multiSelectBlock" style="border-top-right-radius: 20px; border-bottom-right-radius: 20px; left:130px;" value="720">
					<p></p>
					Quality <sup>1</sup>
					<input type="hidden" id="quality" value="20000">
					<input type="button" name="button" id="qualityHigh" class="multiSelectBlock multiSelectBlockHighlighted" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; left: 58px;" value="High">
					<input type="button" name="button" id="qualityMedium" class="multiSelectBlock" style="left: 58px;"value="Medium">
					<input type="button" name="button" id="qualityLow" class="multiSelectBlock" style="border-top-right-radius: 20px; border-bottom-right-radius: 20px;left: 58px;" value="Low">
					<p></p>
					
					<hr style="position: relative;width:300px; left:-20px; color: rgb(50, 50, 50);">
					<!--
					<p></p>
					Webcam <sup>2</sup>
					<input type="hidden" id="webcam" value="0">
					<input type="button" name="button" id="webcamEnable" class="multiSelectBlock" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; left:135px;" value="On">
					<input type="button" name="button" id="webcamDisable" class="multiSelectBlock multiSelectBlockHighlighted" style="border-top-right-radius: 20px; border-bottom-right-radius: 20px; left:135px;" value="Off">
					<p></p>
					<div id="nameField" style="display: none;">Your name 
						<input type="text" maxlength="12" name="name" value="Editor" class="streamerName" style="left:100px;">
					</div>
					<p></p>
					Queue <sup>3</sup>
					<input type="hidden" id="queue" value="0">
					<input type="button" name="button" id="queueOn" class="multiSelectBlock" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; left: 162px;" value="On">
					<input type="button" name="button" id="queueOff" class="multiSelectBlock multiSelectBlockHighlighted" style="border-top-right-radius: 20px; border-bottom-right-radius: 20px; left: 162px;" value="Off">
					<br>
					-->
					
					<h5 style="position:relative; left: -16px; top:-10px; text-align:center;">
						<sup>1</sup> Approximately : High (20Mbps), Medium (10Mbps), Low (5Mbps).<p>
						<!--<sup>2</sup> If you enable the queue you will have to manually approve<br>every client on the server before they can join the session.-->
					</h5>
					<p></p>
					<div style="display: flex; justify-content: center; align-items: center; width: 445px; margin-top:40px;">
						<!--<input type="button" name="button" id="help" value="?" class="button" style="/*width:45px; margin-right:200px;*/">-->
						<input type="submit" id="submitSessionID" value="Create" class="button" style="width:200px;">
					</div>
				</form>
			</div>

			<!--popup window help--> 
			<!--
			<div id="mobileWarningPopupContent" style="animation: 300ms ease-out fadeIn; display: block;">
				<div class="popupTitle" style="width:445px;">
					Help
					<p></p>
				</div>
				<div style="font-size: 16px;">
				The Stream ID is a randomly generated code but this can be edited manually. 
				Avoid using simple, easy to guess stream ID's (such as 12346), as a stranger could potentially guess the ID and enter the session. 
				<p></p>
				Resolution<br>
				If the stream is breaking up or stuttering, then 720P is recommended. This will depend on the number of clients, and your machine and internet configuration.
				<p></p>
				Quality<br>
				Sets the maximum possible Mbps of the stream, approximately : High (20Mbps), Medium (10Mbps), Low (5Mbps).
				<p></p>
				<!--
				<hr>
				The following parameters are optional.
				<p></p>
				Webcam<br>
				Allows you to connect as client with a webcam in addition to creating the main stream. 
				If you do not enable this option you can sill talk to guests by selecting multiple audio sources for the main stream, such as an NDI audio source for the footage and your Microphone.
				<p></p>
				Your name <br>
				If you do select to connect via the webcam you can enter your name that will be displayed with your camera.
				<p></p>
				Queue<br>
				By enabling the queue you will have to manually add every client that joins.
				<p></p>
				Additional<br>
				You can also use the assist portal https://rpxl.app/assist if you have off loaded the stream creation to a separate machine, you will be able to manage the session as if on the streaming machine.
				<br>
				Note: If you have enabled the queue you will have to add yourself first, or you will not be able to manage users, see files or the main stream.
				
				</div>-->
			</div> 


			<!--popup window content : warning if on mobile device--> 
			<div id="mobileWarningPopupContent" style="animation: 300ms ease-out fadeIn; display: none;">
				<div class="popupTitle" style="width:445px;">
					Mobile not supported.
					<p></p>
				</div>
				<div style="position:relative; left:20px; top:20px; width:400px;">
				Currently, RPXL stream creation only supported on desktop clients for Windows, Mac and Linux.
				<p></p>
				Support for mobile clients, iOs, iPadOs and Android is not currently planned.
				</div>
			</div>  

		</div>   
	</div>

</body>
</html>

<script type="text/javascript"> 
//check if on mobile device
let mobile = false;
//ipad pro workaround, not really working at moment
if ('ontouchstart' in window || (window?.DocumentTouch && document instanceof DocumentTouch)) {
	mobile = true;
}
//usual mobile detection
if (navigator.userAgent.match(/Android/i)
	|| navigator.userAgent.match(/webOS/i)
	|| navigator.userAgent.match(/iPhone/i)
	|| navigator.userAgent.match(/iPad/i)
	|| navigator.userAgent.match(/iPod/i)
	|| navigator.userAgent.match(/BlackBerry/i)
	|| navigator.userAgent.match(/Windows Phone/i)) {
	mobile = true;
} else {
	mobile = false;
}

if (mobile == 1) {
	sessionIDpopupContent.style.display = "none";
	popupWindow.style.height = "250px";
	mobileWarningPopupContent.style.display = "block";
	stop;
}

//generate random code and prefil
	let length = 6;
    let randomID = '';
    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    
    // Loop to generate characters for the specified length
    for (let i = 0; i < length; i++) {
        const randomInd = Math.floor(Math.random() * characters.length);
        randomID += characters.charAt(randomInd);
    }
	document.forms["sessionIDCode"]["sessionIDInput"].value = randomID;	

//move caret to focus on inbut of session ID 
document.forms["sessionIDCode"]["sessionIDInput"].focus();

//session duration clock   
function getTimeSpentOnSite(){
	timeSpentOnSite = parseInt(sessionStorage.getItem('timeSpentOnSite'));
	timeSpentOnSite = isNaN(timeSpentOnSite) ? 0 : timeSpentOnSite;
	return timeSpentOnSite;
}

//menu options select and set values
window.addEventListener("click", function (event) {
if (event.target.name === "button") {
	if (event.target.id == "res1080") {
		res1080.classList.add("multiSelectBlockHighlighted");
		res720.classList.remove("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["resolution"].value = "0";	
	}
	if (event.target.id == "res720") {
		res1080.classList.remove("multiSelectBlockHighlighted");
		res720.classList.add("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["resolution"].value = "1";	
	}

	if (event.target.id == "qualityHigh") {
		qualityHigh.classList.add("multiSelectBlockHighlighted");
		qualityMedium.classList.remove("multiSelectBlockHighlighted");
		qualityLow.classList.remove("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["quality"].value = "20000";	
	}
	if (event.target.id == "qualityMedium") {
		qualityHigh.classList.remove("multiSelectBlockHighlighted");
		qualityMedium.classList.add("multiSelectBlockHighlighted");
		qualityLow.classList.remove("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["quality"].value = "10000";	
	}
	if (event.target.id == "qualityLow") {
		qualityHigh.classList.remove("multiSelectBlockHighlighted");
		qualityMedium.classList.remove("multiSelectBlockHighlighted");
		qualityLow.classList.add("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["quality"].value = "5000";	
	}

/*	if (event.target.id == "webcamEnable") {
		webcamEnable.classList.add("multiSelectBlockHighlighted");
		webcamDisable.classList.remove("multiSelectBlockHighlighted");
		document.getElementById("nameField").style.display = "inline-block";
		document.getElementById("popupWindow").style.height = "600px";
		document.forms["sessionIDCode"]["webcam"].value = "1";	
	}
	if (event.target.id == "webcamDisable") {
		webcamEnable.classList.remove("multiSelectBlockHighlighted");
		webcamDisable.classList.add("multiSelectBlockHighlighted");
		document.getElementById("nameField").style.display = "none";
		document.getElementById("popupWindow").style.height = "540px";
		document.forms["sessionIDCode"]["webcam"].value = "";	
	}
	if (event.target.id == "queueOn") {
		queueOn.classList.add("multiSelectBlockHighlighted");
		queueOff.classList.remove("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["queue"].value = "&queue";	
	}
	if (event.target.id == "queueOff") {
		queueOn.classList.remove("multiSelectBlockHighlighted");
		queueOff.classList.add("multiSelectBlockHighlighted");
		document.forms["sessionIDCode"]["queue"].value = "";	
	}
		*/
}
if (event.target.id == "sessionLink") {
	let urlLink = document.getElementById("sessionLink").value;
	navigator.clipboard.writeText(urlLink);
	}

});

//check if an URL parameter is sent and prefill the session ID field
//var sessionFile;
let query = location.search;
let sessionIDURL = query.slice(1);
let sessionIDUp = sessionIDURL.toUpperCase();
let	sessionFile = encodeURIComponent(sessionIDUp); 

if  ((sessionFile != 0) && (sessionFile.length == 6)  && (mobile == 0)) {
		document.forms["sessionIDCode"]["sessionIDInput"].value = sessionFile;	
	}         
     			
//Session ID field entry, force upper caase, restrict to alpha-numeric
const input = document.querySelector('[autocomplete=one-time-code');
input.addEventListener('input', () => input.style.setProperty('--_otp-digit', input.selectionStart));

function onlyAlphabets(e, t) {
	var regexp = new RegExp(/^[a-zA-Z0-9]*$/);
	if (window.event) {
		keynum = e.keyCode;
		}
	else if (e.which) {
		keynum = e.which;
		}
	var test = regexp.test(String.fromCharCode(keynum));
	return test;
	}

//submit session ID if user hits enter key
let inputSessionID = document.getElementById("sessionIDInput");
input.addEventListener("keypress", function(event) {
	if (event.key === "Enter") {
		event.preventDefault();
		document.getElementById("submitSessionID").click();
		}
	});
   
//validates the session ID when the user submits
function validateSessionID(){
	let sessionEnc = document.forms ["sessionIDCode"]["sessionIDInput"].value;
	let	sessionFile = encodeURIComponent(sessionEnc); //encode submitted value to escape any funny characters

	//if there are less or more or less than 6 characters shake the box and clear it
	if (sessionFile.length != 6) {
		popupWindow.style.animation = "shake 500ms";
		setTimeout ( function () {popupWindow.style.animation = "none"; document.getElementById("sessionIDCode").reset();}, 300);
		document.forms["sessionIDCode"]["sessionIDInput"].focus();
		return false;
		}
	else {
		blackout.style.animation = "fadeOut 300ms";
		setTimeout ( function () {blackout.style.animation = "none"; blackout.style.display = "none";}, 300);

		document.getElementById("sessionLink").innerHTML = ("https://rpxl.app/?"+sessionFile+"<img src='../images/copy.png' width='20' height='20' id='sessionLink' class='sessionLink'>");
		document.getElementById("sessionLink").value = "https://rpxl.app/?"+sessionFile;	
		document.getElementById("sessionLink").style.display = "inline-block";
		//document.getElementById("clientLink").style.display = "block";

		//start session duration counter
		let timerStart = Date.now();
		let timer = setInterval(function(){
			timeSpentOnSite = getTimeSpentOnSite()+(Date.now()-timerStart);
			sessionStorage.setItem('timeSpentOnSite',timeSpentOnSite);
			timerStart = parseInt(Date.now());
			// Convert to seconds
			var milliseconds = timeSpentOnSite % 1000;
			var seconds = Math.floor((timeSpentOnSite / 1000) % 60);
			var minutes = Math.floor((timeSpentOnSite / (60 * 1000)) % 60);
			var hours = Math.floor((timeSpentOnSite / (60 * 60 * 1000)) % 24);
			
			hours = (hours < 10) ? "0" + hours : hours;
			minutes = (minutes < 10) ? "0" + minutes : minutes;
			seconds = (seconds < 10) ? "0" + seconds : seconds;
			
			document.getElementById("clock").innerHTML = ( "Duration : " +hours + ":" +minutes+ ":" +seconds);
			},1000);

		//vdo ninja configuration and startup
		document.getElementById("directorroom").allow = "autoplay;camera;microphone;fullscreen;picture-in-picture;display-capture;";
		document.getElementById("directorroom").src = "https://vdo.rpxl.app/?director=RPXL_"+sessionFile+
		"&push=RPXL_Main_Stream"+
		//"&permaid=RPXL_Main_Feed"+
		"&rampuptime=6000"+	//ramp up time of 6 seconds
		"&label=Server"+	//sets livestream as label for director connection
		"&hidehome"+	//hide vdo ninja homepage	
		"&director"+	//join as director
		"&preview"+	//forces self preview for clients
		"&showdirector"+	//shows director interface
		//"&device=1"+	//select default audio and video device
		"&wc"+	//disables screenshare use &webcam2 to show share your camera screen
		"&novice"+	//simplyfy director layout
		"&hidesolo"+	//hide solo links
		//"&chatbutton=0"+	//no chat button
		//"&mirror=2"+	//mirrors guest videos but not local videos
		"&notify"+	// notify when people join
		"&ovb="+document.forms["sessionIDCode"]["quality"].value+	//outbound video bitrate for main (obs stream)
		"&trb=30000"+	//total room bit rate
		"&hiddenscenebitrate=30000"+	//30mbps, highest quality
		"&quality="+document.forms["sessionIDCode"]["resolution"].value+	//1 720p set to 0 for 1080p
		"&cleandirector"+	//hides link generator in diretor room
		"&darkmode"+	
		"&nohub"+	//hide hangup button
		"&nsb"+	//hide speaker button
		"&hidetranslate"+	//hide translate
		"&signalmeter"+	//add signal meter to each guest
		"&agc=0"+	//turns off auto gain control
		"&denoise=0"+	//turns off denoiser
		"&ab=128"+	//constant audio bitrate of 24kbps
		"&chroma=191919"+	//set bg color
		"&codirector="+sessionFile+	//allow co-directors and set the password to same session (not ideal but for now whatever) 
		//document.forms["sessionIDCode"]["queue"].value+		//for queue, curently off
		"&js=https%3A%2F%2Frpxl.app%2Fscripts%2Fninjadirector.js"+
		"&css=https%3A%2F%2Frpxl.app%2Fstyles%2Fninjadirector.css"+	//css
		"";

		setTimeout(function(){
			document.getElementById("addWebcamWindow").allow = "autoplay;camera;microphone;fullscreen;picture-in-picture;display-capture;";
			document.getElementById("addWebcamWindow").src = "https://vdo.rpxl.app/?room=RPXL_"+sessionFile+
				"&exclude=RPXL_Main_Stream"+	//do not show the main feed
				"&permaid=Operator"+
				"&nomic"+
				"&novideo"+
				"&chatbutton=0"+
				//"&showall"+
				//"&nodirectoraudio"+ //do play show in user area
				//"&nodirectorvideo"+
				//"&labelsuggestion=Edit"	//sets label to guests name they entered earlier
				//"&clean"+
				//"&showlabels"+	//show the usernames
				"&quality=3"+	//set camera quality to lowest possible, about 360p
				"&webcam"+	//disables screenshare use &webcam2 to show share your camera screen
				"&cover"+	//make video cover space
				"&videobitrate=100"+
				"&vdo=1"+	//auto select camera
				//"&rounded=100"+	//makes videos round
				//"&mirror=2"+	//mirrors guest videos
				"&viewwidth=160&viewheight=90"+	//sets incoming video to px size (very low res)
				"&safemode"+	//loads camera in simplist way
				"&st=6"+	//show audio only sources as coloured circles with first letter of name
				"&meterstyle=2"+	//round highlight over person talking
				"&hh"+	//hide vdo ninja header
				"&ee"+	//easy exit
				"&cv"+	//clean viewer
				"&hpb"+	//hide play button
				"&nsb"+	//hide speaker button
				"&nohub"+	//hide hangup button
				"&hidehome"+	//hide vdo ninja home page
				"&transparent"+	//makes bg transparent
				"&hidetranslate"+	//hides translate menu
				"&darkmode"+	//
				"&disablehotkeys"+	//no hotkeys
				"&nocontrols"+	//hides video player controls
				"&showlist=0"+	//show hidden guest list
				//"&queue"+ 	//guests must be allowed in by director
				//"&animate"+	//videos animate around when people join or leave
				//"&tips"+
				//"&js=https%3A%2F%2Frpxl.app%2Fscripts%2Fninjawebcam.js"+
				"&css=https%3A%2F%2Frpxl.app%2Fstyles%2Fninjawebcam.css"+	//load style sheet
			""; 
		},1000);

		return false;
	}
	return false;
} 







function addWebcam() {
	let popup = document.getElementById('directorroom');

	if (popup.style.width == '100%') {
		document.getElementById("directorroom").style.transition =" all 0.2s linear 0s";
		document.getElementById("addWebcamWindow").style.transition =" all 0.2s linear 0s";

		document.getElementById("addWebcamWindow").style.display ="block"
		document.getElementById("addWebcamWindow").style.width ="30%"
		document.getElementById("directorroom").style.width ="70%"
	} 
	else {
		document.getElementById("directorroom").style.width ="100%"
		document.getElementById("addWebcamWindow").style.width ="0px"
	}
}


function validateStageName(){
	let varstageName = document.forms ["stageName"]["enterStageName"].value;
	//if they try to submit an empty name shake the box and highlight the stage name field
	if (!varstageName) {								
		addWebcamWindow.style.animation = "shake 500ms";
		setTimeout ( function () {addWebcamWindow.style.animation = "none"; document.forms["stageName"]["enterStageName"].focus(); }, 300);  
		return false;
		}
	//encode the name entered to a URI to escape any odd characters set cookie for next 24 hours
	else {
		let uri = document.forms ["stageName"]["enterStageName"].value;		
		let encodedUserName = encodeURIComponent(uri);     

		//set sources for chat frame
		let chatFeed = "https://vdo.rpxl.app/?room=RPXL_"+sessionFile+
			"&exclude=RPXL_Main_Stream"+	//do not show the main feed
			//"&showall"+
			//"&nodirectoraudio"+ //do play show in user area
			//"&nodirectorvideo"+
			"&label="+encodedUserName+ //sets label to guests name they entered earlier
			"&showlabels"+	//show the usernames
			"&quality=3"+	//set camera quality to lowest possible, about 360p
			"&webcam"+	//disables screenshare use &webcam2 to show share your camera screen
			"&cover"+	//make video cover space
			"&videobitrate=100"+
			"&vdo=1"+	//auto select camera
			"&rounded=100"+	//makes videos round
			//"&mirror=2"+	//mirrors guest videos
			"&viewwidth=160&viewheight=90"+	//sets incoming video to px size (very low res)
			"&safemode"+	//loads camera in simplist way
			"&st=6"+	//show audio only sources as coloured circles with first letter of name
			"&meterstyle=2"+	//round highlight over person talking
			"&hh"+	//hide vdo ninja header
			"&ee"+	//easy exit
			"&cv"+	//clean viewer
			"&hpb"+	//hide play button
			"&nsb"+	//hide speaker button
			"&nohub"+	//hide hangup button
			"&hidehome"+	//hide vdo ninja home page
			"&transparent"+	//makes bg transparent
			"&hidetranslate"+	//hides translate menu
			"&darkmode"+	//
			"&disablehotkeys"+	//no hotkeys
			"&nocontrols"+	//hides video player controls
			"&showlist=0"+	//show hidden guest list
			//"&queue"+ 	//guests must be allowed in by director
			"&animate"+	//videos animate around when people join or leave
			//"&tips"+
			//"&js=https%3A%2F%2Frpxl.app%2Fscripts%2Fninjachat.js"+
			//"&css=https%3A%2F%2Frpxl.app%2Fstyles%2Fninjachat.css"+	//load style sheet
		""; 

		//create the chat iframe
		var iframe = document.createElement("iframe");
		iframe.allow = "autoplay;camera;microphone;fullscreen;picture-in-picture;display-capture;";
		iframe.src = chatFeed;
		var iframeContainer = document.createElement("div");
		iframeContainer.appendChild(iframe);
		document.getElementById("addWebcamWindow").appendChild(iframeContainer);
	}
	return false;
}
</script>
